# 291025 note aws restart

run : netstat -tp

hasil : 
```
(No info could be read for "-p": geteuid()=1000 but you should be root.)
Active Internet connections (w/o servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        0     36 ip-10-0-10-24.us-we:ssh 182.2.37.8:51946        ESTABLISHED -  
```

artinya ip yang masuk itu siapa, itu ip 182.2.37.8:51946 masuk ke server 
ESTABLISHED artinya berhasil masuk 


run : `curl -vLo /dev/null https://aws.com`

hasilnya : 
```
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 3.169.173.104:443...
* Connected to aws.com (3.169.173.104) port 443
* ALPN: curl offers h2,http/1.1
* Cipher selection: ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH
} [5 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client hello (1):
} [512 bytes data]
*  CAfile: /etc/pki/tls/certs/ca-bundle.crt
*  CApath: none
{ [5 bytes data]
* TLSv1.2 (IN), TLS handshake, Server hello (2):
{ [100 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [3794 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=aws.com
*  start date: Mar  1 00:00:00 2025 GMT
*  expire date: Mar 30 23:59:59 2026 GMT
*  subjectAltName: host "aws.com" matched cert's "aws.com"
*  issuer: C=US; O=Amazon; CN=Amazon RSA 2048 M02
*  SSL certificate verify ok.
{ [5 bytes data]
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://aws.com/
* [HTTP/2] [1] [:method: GET]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: aws.com]
* [HTTP/2] [1] [:path: /]
* [HTTP/2] [1] [user-agent: curl/8.3.0]
* [HTTP/2] [1] [accept: */*]
} [5 bytes data]
> GET / HTTP/2
> Host: aws.com
> User-Agent: curl/8.3.0
> Accept: */*
> 
{ [5 bytes data]
< HTTP/2 302 
< content-type: text/html
< content-length: 110
< location: https://www.aws.com:443/
< server: awselb/2.0
< date: Wed, 29 Oct 2025 13:41:31 GMT
< x-cache: Miss from cloudfront
< via: 1.1 9b38ff4b39c6c0a269c601916dab060e.cloudfront.net (CloudFront)
< x-amz-cf-pop: HIO52-P4
< x-amz-cf-id: rC2U3GHFUGTWv6dqcbB008wb3NToX3sC-a6nO5JvEGWJ8oqfJeL-mA==
< strict-transport-security: max-age=63072000; includeSubDomains; preload
< 
* Ignoring the response-body
{ [110 bytes data]
100   110  100   110    0     0   1580      0 --:--:-- --:--:-- --:--:--  1594
* Connection #0 to host aws.com left intact
* Issue another request to this URL: 'https://www.aws.com:443/'
*   Trying 3.169.173.67:443...
* Connected to www.aws.com (3.169.173.67) port 443
* ALPN: curl offers h2,http/1.1
* Cipher selection: ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH
} [5 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client hello (1):
} [512 bytes data]
*  CAfile: /etc/pki/tls/certs/ca-bundle.crt
*  CApath: none
{ [5 bytes data]
* TLSv1.2 (IN), TLS handshake, Server hello (2):
{ [100 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [3794 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=aws.com
*  start date: Mar  1 00:00:00 2025 GMT
*  expire date: Mar 30 23:59:59 2026 GMT
*  subjectAltName: host "www.aws.com" matched cert's "www.aws.com"
*  issuer: C=US; O=Amazon; CN=Amazon RSA 2048 M02
*  SSL certificate verify ok.
{ [5 bytes data]
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://www.aws.com:443/
* [HTTP/2] [1] [:method: GET]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: www.aws.com]
* [HTTP/2] [1] [:path: /]
* [HTTP/2] [1] [user-agent: curl/8.3.0]
* [HTTP/2] [1] [accept: */*]
} [5 bytes data]
> GET / HTTP/2
> Host: www.aws.com
> User-Agent: curl/8.3.0
> Accept: */*
> 
{ [5 bytes data]
< HTTP/2 301 
< content-type: text/html; charset=iso-8859-1
< content-length: 231
< location: https://aws.amazon.com/
< date: Wed, 29 Oct 2025 13:41:31 GMT
< server: Server
< cache-control: no-store, no-cache, must-revalidate
< x-frame-options: SAMEORIGIN
< x-xss-protection: 1; mode=block
< strict-transport-security: max-age=47304000; includeSubDomains
< x-cache: Miss from cloudfront
< via: 1.1 caca3796a9753caf000b1d1a5f744530.cloudfront.net (CloudFront)
< x-amz-cf-pop: HIO52-P4
< x-amz-cf-id: SzywWu5KJReB_tFwLW7uh7K6qBc3tL8AL13GHOWq5XVf9fy8YRmqiQ==
< 
* Ignoring the response-body
{ [231 bytes data]
100   231  100   231    0     0   1806      0 --:--:-- --:--:-- --:--:--  1806
* Connection #1 to host www.aws.com left intact
* Issue another request to this URL: 'https://aws.amazon.com/'
*   Trying 3.163.24.15:443...
* Connected to aws.amazon.com (3.163.24.15) port 443
* ALPN: curl offers h2,http/1.1
* Cipher selection: ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH
} [5 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client hello (1):
} [512 bytes data]
*  CAfile: /etc/pki/tls/certs/ca-bundle.crt
*  CApath: none
{ [5 bytes data]
* TLSv1.2 (IN), TLS handshake, Server hello (2):
{ [100 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5092 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=aws.amazon.com
*  start date: Jul  2 00:00:00 2025 GMT
*  expire date: Jun 28 23:59:59 2026 GMT
*  subjectAltName: host "aws.amazon.com" matched cert's "aws.amazon.com"
*  issuer: C=US; O=Amazon; CN=Amazon RSA 2048 M01
*  SSL certificate verify ok.
{ [5 bytes data]
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://aws.amazon.com/
* [HTTP/2] [1] [:method: GET]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: aws.amazon.com]
* [HTTP/2] [1] [:path: /]
* [HTTP/2] [1] [user-agent: curl/8.3.0]
* [HTTP/2] [1] [accept: */*]
} [5 bytes data]
> GET / HTTP/2
> Host: aws.amazon.com
> User-Agent: curl/8.3.0
> Accept: */*
> 
{ [5 bytes data]
< HTTP/2 200 
< content-type: text/html;charset=utf-8
< date: Wed, 29 Oct 2025 13:41:31 GMT
< set-cookie: aws-priv=eyJ2IjoxLCJldSI6MCwic3QiOjB9; Version=1; Comment="Anonymous cookie for privacy regulations"; Domain=.aws.amazon.com; Max-Age=31536000; Expires=Thu, 29 Oct 2026 13:41:31 GMT; Path=/; Secure
< set-cookie: aws_lang=en; Domain=.amazon.com; Path=/
< x-content-type-options: nosniff
< server: Server
< x-frame-options: SAMEORIGIN
< x-xss-protection: 1; mode=block
< strict-transport-security: max-age=47304000; includeSubDomains
< x-amz-id-1: 0F71C64CD2D44278B816
< last-modified: Thu, 23 Oct 2025 11:32:36 GMT
< vary: accept-encoding
< x-cache: Miss from cloudfront
< via: 1.1 fd441d5d42c4e243bf0b88902034e302.cloudfront.net (CloudFront)
< x-amz-cf-pop: HIO52-P2
< x-amz-cf-id: nq385GOp_Tj1gyebOiyQmgmo-O13OYt1fXOpC_GdzubOWScpgTemWw==
< 
{ [15750 bytes data]
100  437k    0  437k    0     0  1966k      0 --:--:-- --:--:-- --:--:-- 1966k
* Connection #2 to host aws.amazon.com left intact

```

biasanya hasilnya itu digunakan untuk mencari tahu header untuk backend, buat manggil API


## coba untuk upload website ke server amazon linux 

yg penting file website biar live di server, masukin filenya ke path /var/www/html

masuk ke path /var/www/, run : `cd /var/www`


